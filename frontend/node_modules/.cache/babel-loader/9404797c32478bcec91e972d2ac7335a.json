{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pierr\\\\Desktop\\\\Projet Weeeeeb\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\App.js\";\nimport './App.css';\nimport React from 'react';\nimport Box1 from './Box1';\nimport Box2 from './Box2';\nimport Box3 from './Box3';\n\nclass App extends React.Component {\n  constructor(props) {\n    // super(props);\n    this.state = {\n      Details: {\n        image_url: '',\n        name: '',\n        followers: '',\n        url: '',\n        upcoming_event_count: ''\n      },\n      searchValue: '',\n      error: '',\n      flag: false,\n      eventsDetails: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"searchField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      placeholder: \"search artist\",\n      onChange: this.setQuery,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      onClick: this.submitHandle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), this.state.flag ? React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Box1, {\n      Details: this.state.Details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Box2, {\n      Details: this.state.Details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(Box3, {\n      eventsDetails: this.state.eventsDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }))) : React.createElement(\"h1\", {\n      className: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.state.error));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/pierr/Desktop/Projet Weeeeeb/PROJECT_WEB_OCRES/frontend/src/App.js"],"names":["React","Box1","Box2","Box3","App","Component","constructor","props","state","Details","image_url","name","followers","url","upcoming_event_count","searchValue","error","flag","eventsDetails","render","setQuery","submitHandle"],"mappings":";AAAA,OAAO,WAAP;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AACA,MAAMC,GAAN,SAAkBJ,KAAK,CAACK,SAAxB,CAAiC;AAC/BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB;AACC,SAAKC,KAAL,GAAW;AACXC,MAAAA,OAAO,EAAC;AACCC,QAAAA,SAAS,EAAC,EADX;AAECC,QAAAA,IAAI,EAAC,EAFN;AAGCC,QAAAA,SAAS,EAAC,EAHX;AAICC,QAAAA,GAAG,EAAC,EAJL;AAKCC,QAAAA,oBAAoB,EAAC;AALtB,OADG;AAQXC,MAAAA,WAAW,EAAC,EARD;AASXC,MAAAA,KAAK,EAAC,EATK;AAUXC,MAAAA,IAAI,EAAC,KAVM;AAWXC,MAAAA,aAAa,EAAC;AAXH,KAAX;AAaD;;AAsDDC,EAAAA,MAAM,GAAE;AACR,WACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAO,MAAA,WAAW,EAAC,eAAnB;AAAmC,MAAA,QAAQ,EAAE,KAAKC,QAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAEA;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,OAAO,EAAE,KAAKC,YAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CADF,EAKG,KAAKb,KAAL,CAAWS,IAAX,GAAgB;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACf;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,oBAAC,IAAD;AAAO,MAAA,OAAO,EAAE,KAAKT,KAAL,CAAWC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADE,EAEF,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFE,EAGF,oBAAC,IAAD;AAAM,MAAA,aAAa,EAAE,KAAKD,KAAL,CAAWU,aAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHE,CADe,CAAhB,GAMM;AAAI,MAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,KAAKV,KAAL,CAAWQ,KAArC,CAXT,CADF;AAgBD;;AAvFgC;;AAyFjC,eAAeZ,GAAf","sourcesContent":["import './App.css';\r\nimport React from 'react'\r\nimport Box1 from './Box1';\r\nimport Box2 from './Box2';\r\nimport Box3 from './Box3';\r\nclass App extends React.Component{\r\n  constructor(props) {\r\n   // super(props);\r\n    this.state={\r\n    Details:{\r\n             image_url:'',\r\n             name:'',\r\n             followers:'',\r\n             url:'',\r\n             upcoming_event_count:'',\r\n            },\r\n    searchValue:'',\r\n    error:'',\r\n    flag:false,\r\n    eventsDetails:[]        \r\n           }\r\n  }\r\n  \r\n  setQuery=(e)=>{\r\n    this.setState(prevState=>({\r\n      ...prevState,\r\n      searchValue:e.target.value\r\n    }))\r\n  }\r\n  submitHandle=()=>{\r\n    fetch(`https://rest.bandsintown.com/artists/${this.state.searchValue}/?app_id=0ca0cf2b477cf81859c0a0e548b04dd3`)\r\n    .then(res=>res.json())\r\n    .then(data=>{  \r\n    const {name,image_url,url,upcoming_event_count}=data;\r\n      this.setState(prevState=>({...prevState,\r\n        Details:{\r\n        name,\r\n        image_url,\r\n        url,\r\n        upcoming_event_count}\r\n      }))\r\n    })\r\n   this.setState(prevState=>({...prevState,eventsDetails:[]}))\r\n    fetch(`https://rest.bandsintown.com/artists/${this.state.searchValue}/events?app_id=0ca0cf2b477cf81859c0a0e548b04dd3`)\r\n    .then(res=>res.json())\r\n    .then(data=>{\r\n      var limit=3\r\n      if(data.length<3){\r\n        limit=data.length\r\n      }\r\n    if(data.errorMessage!==undefined){\r\n      this.setState(prevState=>({...prevState,error:'Not found'}))\r\n      this.setState(prevState=>({\r\n        ...prevState,\r\n        flag:false\r\n      }))    }\r\n    else{\r\n      for(var i=0;i<limit;i++){\r\n        let newData={ \r\n          location:data[i].venue.location,\r\n          date:data[i].datetime\r\n        }\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          eventsDetails: [...prevState.eventsDetails, newData]\r\n        }))\r\n      }\r\n      this.setState(prevState=>({\r\n        ...prevState,\r\n        flag:true\r\n      }))\r\n    }\r\n    \r\n    })\r\n  }\r\n  render(){\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"searchField\">\r\n      <input placeholder=\"search artist\" onChange={this.setQuery}></input>\r\n      <input type=\"submit\" onClick={this.submitHandle}></input>\r\n      </div>\r\n      {this.state.flag?<div className=\"container\">\r\n        <div className=\"row\">\r\n      <Box1  Details={this.state.Details} />\r\n      <Box2 Details={this.state.Details} />\r\n      <Box3 eventsDetails={this.state.eventsDetails}/>       \r\n        </div>\r\n      </div>:<h1 className=\"errorMsg\">{this.state.error}</h1>}\r\n    \r\n    </div>\r\n  );\r\n}}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}