{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\pierr\\\\Desktop\\\\Projet Weeeeeb\\\\PROJECT_WEB_OCRES\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\pierr\\\\Desktop\\\\Projet Weeeeeb\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport './App.css';\nimport React from 'react';\nimport Box1 from './components/Box1';\nimport Box2 from './components/Box2';\nimport Box3 from './components/Box3';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setQuery = e => {\n      this.setState(prevState => _objectSpread({}, prevState, {\n        searchValue: e.target.value\n      }));\n    };\n\n    this.submitHandle = () => {\n      fetch(\"https://rest.bandsintown.com/artists/\".concat(this.state.searchValue, \"/?app_id=0ca0cf2b477cf81859c0a0e548b04dd3\")).then(res => res.json()).then(data => {\n        const name = data.name,\n              image_url = data.image_url,\n              url = data.url,\n              upcoming_event_count = data.upcoming_event_count;\n        this.setState(prevState => _objectSpread({}, prevState, {\n          Details: {\n            name,\n            image_url,\n            url,\n            upcoming_event_count\n          }\n        }));\n      });\n      this.setState(prevState => _objectSpread({}, prevState, {\n        eventsDetails: []\n      }));\n      fetch(\"https://rest.bandsintown.com/artists/\".concat(this.state.searchValue, \"/events?app_id=0ca0cf2b477cf81859c0a0e548b04dd3\")).then(res => res.json()).then(data => {\n        var limit = 3;\n\n        if (data.length < 3) {\n          limit = data.length;\n        }\n\n        if (data.errorMessage !== undefined) {\n          this.setState(prevState => _objectSpread({}, prevState, {\n            error: 'Not found'\n          }));\n          this.setState(prevState => _objectSpread({}, prevState, {\n            flag: false\n          }));\n        } else {\n          for (var i = 0; i < limit; i++) {\n            let newData = {\n              location: data[i].venue.location,\n              date: data[i].datetime\n            };\n            this.setState(prevState => _objectSpread({}, prevState, {\n              eventsDetails: [...prevState.eventsDetails, newData]\n            }));\n          }\n\n          this.setState(prevState => _objectSpread({}, prevState, {\n            flag: true\n          }));\n        }\n      });\n    };\n\n    this.state = {\n      Details: {\n        image_url: '',\n        name: '',\n        followers: '',\n        url: '',\n        upcoming_event_count: ''\n      },\n      searchValue: '',\n      error: '',\n      flag: false,\n      eventsDetails: []\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"searchField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      placeholder: \"search artist\",\n      onChange: this.setQuery,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"submit\",\n      onClick: this.submitHandle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), this.state.flag ? React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Box1, {\n      Details: this.state.Details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Box2, {\n      Details: this.state.Details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(Box3, {\n      eventsDetails: this.state.eventsDetails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }))) : React.createElement(\"h1\", {\n      className: \"errorMsg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.state.error));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/pierr/Desktop/Projet Weeeeeb/PROJECT_WEB_OCRES/frontend/src/App.js"],"names":["React","Box1","Box2","Box3","App","Component","constructor","props","setQuery","e","setState","prevState","searchValue","target","value","submitHandle","fetch","state","then","res","json","data","name","image_url","url","upcoming_event_count","Details","eventsDetails","limit","length","errorMessage","undefined","error","flag","i","newData","location","venue","date","datetime","followers","render"],"mappings":"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","sourcesContent":["import './App.css';\r\nimport React from 'react'\r\nimport Box1 from './components/Box1';\r\nimport Box2 from './components/Box2';\r\nimport Box3 from './components/Box3';\r\nclass App extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n    Details:{\r\n             image_url:'',\r\n             name:'',\r\n             followers:'',\r\n             url:'',\r\n             upcoming_event_count:'',\r\n            },\r\n    searchValue:'',\r\n    error:'',\r\n    flag:false,\r\n    eventsDetails:[]        \r\n           }\r\n  }\r\n  \r\n  setQuery=(e)=>{\r\n    this.setState(prevState=>({\r\n      ...prevState,\r\n      searchValue:e.target.value\r\n    }))\r\n  }\r\n  submitHandle=()=>{\r\n    fetch(`https://rest.bandsintown.com/artists/${this.state.searchValue}/?app_id=0ca0cf2b477cf81859c0a0e548b04dd3`)\r\n    .then(res=>res.json())\r\n    .then(data=>{  \r\n    const {name,image_url,url,upcoming_event_count}=data;\r\n      this.setState(prevState=>({...prevState,\r\n        Details:{\r\n        name,\r\n        image_url,\r\n        url,\r\n        upcoming_event_count}\r\n      }))\r\n    })\r\n   this.setState(prevState=>({...prevState,eventsDetails:[]}))\r\n    fetch(`https://rest.bandsintown.com/artists/${this.state.searchValue}/events?app_id=0ca0cf2b477cf81859c0a0e548b04dd3`)\r\n    .then(res=>res.json())\r\n    .then(data=>{\r\n      var limit=3\r\n      if(data.length<3){\r\n        limit=data.length\r\n      }\r\n    if(data.errorMessage!==undefined){\r\n      this.setState(prevState=>({...prevState,error:'Not found'}))\r\n      this.setState(prevState=>({\r\n        ...prevState,\r\n        flag:false\r\n      }))    }\r\n    else{\r\n      for(var i=0;i<limit;i++){\r\n        let newData={ \r\n          location:data[i].venue.location,\r\n          date:data[i].datetime\r\n        }\r\n        this.setState(prevState => ({\r\n          ...prevState,\r\n          eventsDetails: [...prevState.eventsDetails, newData]\r\n        }))\r\n      }\r\n      this.setState(prevState=>({\r\n        ...prevState,\r\n        flag:true\r\n      }))\r\n    }\r\n    \r\n    })\r\n  }\r\n  render(){\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"searchField\">\r\n      <input placeholder=\"search artist\" onChange={this.setQuery}></input>\r\n      <input type=\"submit\" onClick={this.submitHandle}></input>\r\n      </div>\r\n      {this.state.flag?<div className=\"container\">\r\n        <div className=\"row\">\r\n      <Box1  Details={this.state.Details} />\r\n      <Box2 Details={this.state.Details} />\r\n      <Box3 eventsDetails={this.state.eventsDetails}/>       \r\n        </div>\r\n      </div>:<h1 className=\"errorMsg\">{this.state.error}</h1>}\r\n    \r\n    </div>\r\n  );\r\n}}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}